{"ast":null,"code":"var _jsxFileName = \"/var/www/html/React-JS-REST-API-using-nodejs-and-mysql-master/client/src/components/add_pages.js\";\nimport React, { Component } from 'react';\nimport { add_new_page } from './UserFunctions';\nimport jwt_decode from 'jwt-decode';\nclass add_pages extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      publisher: '',\n      description: '',\n      img: '',\n      publisher_id: '',\n      errors: {}\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  componentDidMount() {\n    if (localStorage.getItem('usertoken') !== null) {\n      var token = localStorage.getItem('usertoken');\n      const decoded = jwt_decode(token);\n      this.setState({\n        publisher_id: decoded.id\n      });\n    }\n  }\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(\"submiteed\");\n    const newitem = {\n      name: this.state.name,\n      publisher: this.state.publisher,\n      description: this.state.description,\n      img: this.state.img,\n      publisher_id: this.state.publisher_id\n    };\n    add_new_page(newitem).then(res => {\n      this.props.history.push(`/login`);\n    });\n  }\n  render() {\n    if (localStorage.getItem('usertoken') !== null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6 mt-5 mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"h3 mb-3 font-weight-normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      }, \"Add Pages\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"title\",\n        placeholder: \"Enter the title\",\n        value: this.state.name,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, \"Content\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"publisher\",\n        placeholder: \"Enter the publisher name\",\n        value: this.state.publisher,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, \"img\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"img\",\n        placeholder: \"enter image url\",\n        value: this.state.img,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-lg btn-primary btn-block \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      }, \"Add item\")))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \" font-style-bold text-center pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 1\n        }\n      }, \"Please Login\"));\n    }\n  }\n}\nexport default add_pages;","map":{"version":3,"names":["React","Component","add_new_page","jwt_decode","add_pages","constructor","state","name","publisher","description","img","publisher_id","errors","onChange","bind","onSubmit","componentDidMount","localStorage","getItem","token","decoded","setState","id","e","target","value","preventDefault","console","log","newitem","then","res","props","history","push","render"],"sources":["/var/www/html/React-JS-REST-API-using-nodejs-and-mysql-master/client/src/components/add_pages.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { add_new_page } from './UserFunctions'\nimport jwt_decode from 'jwt-decode'\n\nclass add_pages extends Component {\n  constructor() {\n    super()\n    this.state = {\n      name: '',\n      publisher: '',\n      description: '',\n      img: '',\n      publisher_id:'',\n    \n      errors: {}\n    }\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  componentDidMount() {\n\n    if(localStorage.getItem('usertoken')!==null){\n      var token=localStorage.getItem('usertoken')\n      const decoded = jwt_decode(token)\n      this.setState({\n        publisher_id:decoded.id\n      })\n    }\n\n  }\n\n\n\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit(e) {\n    e.preventDefault()\n       console.log(\"submiteed\")\n    const newitem = {\n\n      name: this.state.name,\n      publisher: this.state.publisher,\n      description: this.state.description,\n      img: this.state.img,\n    publisher_id:this.state.publisher_id,\n    }\n    add_new_page(newitem).then(res => {\n    \n      this.props.history.push(`/login`);\n     })\n  }\n\n  render() {\n    \n\n      if(localStorage.getItem('usertoken')!==null){\nreturn (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 mt-5 mx-auto\">\n            <form noValidate onSubmit={this.onSubmit}>\n              <h1 className=\"h3 mb-3 font-weight-normal\">Add Pages</h1>\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"title\"\n                  placeholder=\"Enter the title\"\n                  value={this.state.name}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Content</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"publisher\"\n                  placeholder=\"Enter the publisher name\"\n                  value={this.state.publisher}\n                  onChange={this.onChange}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"password\">img</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"img\"\n                  placeholder=\"enter image url\"\n                  value={this.state.img}\n                  onChange={this.onChange}\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-lg btn-primary btn-block \"\n              >\n                Add item\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>)\n      }\n      else{\n        return (\n          <div>\n\n<h3 className=\" font-style-bold text-center pt-5\">Please Login</h3>\n\n          </div>\n        )\n        \n      }\n    \n  }\n}\n\nexport default add_pages\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}