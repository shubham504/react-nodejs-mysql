{"ast":null,"code":"var _jsxFileName = \"/var/www/html/React-JS-REST-API-using-nodejs-and-mysql-master/client/src/components/edit_items.js\";\nimport React from 'react';\nimport jwt_decode from 'jwt-decode';\nimport { Button, Card } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nclass edit_items extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      recipe: null,\n      errors: {}\n    };\n    if (localStorage.getItem('usertoken') !== null) {\n      var token = localStorage.getItem('usertoken');\n      const decoded = jwt_decode(token);\n      this.state = {\n        userid: decoded.id\n      };\n    }\n  }\n  async componentDidMount() {\n    const url = \"http://localhost:5000/show\";\n    const response = await fetch(url);\n    let data = await response.json();\n    data = data.filter(l => {\n      return l.publisher_id.match(this.state.userid);\n    });\n    this.setState({\n      recipe: data,\n      loading: false\n    });\n  }\n  render() {\n    if (localStorage.getItem('usertoken') !== null) {\n      if (this.state.loading) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 20\n          }\n        }, \"loading...\");\n      }\n      if (!this.state.recipe) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 20\n          }\n        }, \"didn't get a person\");\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 1\n        }\n      }, this.state.recipe.map(dynamicData => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 pt-4 pb-3 \",\n        key: dynamicData.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card.Img, {\n        variant: \"top\",\n        style: {\n          height: '15rem'\n        },\n        src: dynamicData.img,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        className: \"font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, dynamicData.name), /*#__PURE__*/React.createElement(Card.Text, {\n        style: {\n          fontSize: '13px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, \"PUBLISHER :\"), dynamicData.publisher), /*#__PURE__*/React.createElement(Link, {\n        to: \"/edit/\" + dynamicData.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        className: \"float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, \"EDIT \")))))))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \" font-style-bold text-center pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, \"Please Login\"));\n    }\n  }\n}\nexport default edit_items;","map":{"version":3,"names":["React","jwt_decode","Button","Card","Link","edit_items","Component","constructor","state","loading","recipe","errors","localStorage","getItem","token","decoded","userid","id","componentDidMount","url","response","fetch","data","json","filter","l","publisher_id","match","setState","render","map","dynamicData","height","img","name","fontSize","publisher"],"sources":["/var/www/html/React-JS-REST-API-using-nodejs-and-mysql-master/client/src/components/edit_items.js"],"sourcesContent":["import React from 'react'\nimport jwt_decode from 'jwt-decode'\nimport { Button,Card } from 'react-bootstrap'\nimport {  Link } from \"react-router-dom\";\nclass edit_items extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n        loading: true,\n        recipe: null,\n        errors: {}\n    }    \n    if(localStorage.getItem('usertoken')!==null){\n      var token=localStorage.getItem('usertoken')\n      const decoded = jwt_decode(token)\n      this.state={\n        userid:decoded.id,\n      }\n    } \n  }  \n\n async componentDidMount() {\n       const url = \"http://localhost:5000/show\";\n        const response = await fetch(url);\n        let data = await response.json();     \n        data = data.filter(l => {\n          return l.publisher_id.match(this.state.userid);\n        });\n        this.setState({ recipe: data, loading: false });\n  }\n\n  render() {\n    if(localStorage.getItem('usertoken')!==null){\n        if (this.state.loading) {\n            return <div>loading...</div>;\n          }      \n          if (!this.state.recipe) {\n            return <div>didn't get a person</div>;\n          }\n      return (\n        <div>      \n        <div className=\"container\">\n<div className=\"row\">       \n        \n        {\n        this.state.recipe.map((dynamicData)=>                 \n        <div className=\"col-md-4 pt-4 pb-3 \" key={dynamicData.id} >\n\n        <Card>\n          <Card.Img variant=\"top\" style={{height: '15rem'}} src={dynamicData.img}  />\n          <Card.Body>\n            <Card.Title className=\"font-weight-bold\">{dynamicData.name}</Card.Title>\n            <Card.Text style={{fontSize:'13px'}}>\n            <span>PUBLISHER :</span>{dynamicData.publisher}\n            </Card.Text>\n            \n            <Link to={\"/edit/\"+dynamicData.id}>\n        \n            <Button variant=\"primary\" className=\"float-right\">EDIT </Button>\n        \n            </Link>\n        \n          </Card.Body>\n        </Card></div>)     \n        \n        }\n        </div>\n        </div>\n  \n      \n   </div> \n   \n\n\n      )\n    }else{\n      return (<div>\n        \n        <h3 className=\" font-style-bold text-center pt-5\">Please Login</h3>\n        \n        </div>)\n\n    }\n    \n  }\n}\n\nexport default edit_items\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}